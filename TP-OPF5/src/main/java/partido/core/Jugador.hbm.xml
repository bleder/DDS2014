<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="org.hibernate.tutorial.hbm">

    <class name="Jugador" table="JUGADOR">
        <id name="id_jugador" column="ID_JUGADOR">
            <generator class="increment"/>
        </id>
        <property name="nombre" type="string" column="NOMBRE"/>
        <property name="apodo" type="string" column="APODO"/>
        <property name="mail" type="string" column="MAIL"/>
        <property name="nivelJuego" type="int" column="NIVELDEJUEGO"/>
        <set name="infracciones" cascade="all">
         <key column="ID_JUGADOR"/>
         <one-to-many class="Infraccion"/>
        </set>
        <set name="calificaciones" cascade="all">
         <key column="ID_JUGADOR"/>
         <one-to-many class="Calificacion"/>
        </set>
    </class>
    
    <class name="Infraccion" table="INFRACCION">
        <id name="id_infraccion" column="ID_INFRACCION">
            <generator class="increment"/>
        </id>
        <property name="fecha" type="string" column="FECHA"/>
        <property name="motivo" type="string" column="MOTIVO"/>
    </class>
    <class name="Calificacion" table="CALIFICACION">
        <id name="id_calificacion" column="ID_CALIFICACION">
            <generator class="increment"/>
        </id>
        <property name="critica" type="string" column="CRITICA"/>
        <property name="nota" type="int" column="NOTA"/>
        <many-to-one name="jugadorQueCalifico" column="ID_JUGADOR_CALIFICADOR" class="Jugador"/>
    </class>

</hibernate-mapping>
